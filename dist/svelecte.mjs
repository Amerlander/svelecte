function e(){}function t(e){return e()}function n(){return Object.create(null)}function i(e){e.forEach(t)}function r(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(t,...n){if(null==t)return e;const i=t.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function o(e,t,n){e.$$.on_destroy.push(l(t,n))}function c(e,t,n,i){if(e){const r=a(e,t,n,i);return e[0](r)}}function a(e,t,n,i){return e[1]&&i?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](i(t))):n.ctx}function u(e,t,n,i,r,s,l){const o=function(e,t,n,i){if(e[2]&&i){const r=e[2](i(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|r[i];return e}return t.dirty|r}return t.dirty}(t,i,r,s);if(o){const r=a(t,n,i,l);e.p(r,o)}}function d(e){return null==e?"":e}function h(e,t,n=t){return e.set(n),t}function p(e,t){e.appendChild(t)}function f(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode.removeChild(e)}function b(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function v(e){return document.createTextNode(e)}function y(){return v(" ")}function x(){return v("")}function w(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function S(e){return function(t){return t.preventDefault(),e.call(this,t)}}function A(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function O(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function E(e,t){e.value=null==t?"":t}let k,F;function D(){if(void 0===k){k=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){k=!0}}return k}function M(e,t,n){e.classList[n?"add":"remove"](t)}class L{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=g(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)f(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(m)}}function _(e){F=e}function T(){if(!F)throw new Error("Function called outside component initialization");return F}function C(e){T().$$.on_mount.push(e)}function N(e){T().$$.on_destroy.push(e)}function q(){const e=T();return(t,n)=>{const i=e.$$.callbacks[t];if(i){const r=function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(t,n);i.slice().forEach(t=>{t.call(e,r)})}}}function I(e){return T().$$.context.get(e)}function R(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}const j=[],B=[],H=[],z=[],V=Promise.resolve();let P=!1;function W(){P||(P=!0,V.then(G))}function U(){return W(),V}function J(e){H.push(e)}let K=!1;const X=new Set;function G(){if(!K){K=!0;do{for(let e=0;e<j.length;e+=1){const t=j[e];_(t),Q(t.$$)}for(_(null),j.length=0;B.length;)B.pop()();for(let e=0;e<H.length;e+=1){const t=H[e];X.has(t)||(X.add(t),t())}H.length=0}while(j.length);for(;z.length;)z.pop()();P=!1,K=!1,X.clear()}}function Q(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}const Y=new Set;let Z;function ee(){Z={r:0,c:[],p:Z}}function te(){Z.r||i(Z.c),Z=Z.p}function ne(e,t){e&&e.i&&(Y.delete(e),e.i(t))}function ie(e,t,n,i){if(e&&e.o){if(Y.has(e))return;Y.add(e),Z.c.push(()=>{Y.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}}function re(e){e&&e.c()}function se(e,n,s){const{fragment:l,on_mount:o,on_destroy:c,after_update:a}=e.$$;l&&l.m(n,s),J(()=>{const n=o.map(t).filter(r);c?c.push(...n):i(n),e.$$.on_mount=[]}),a.forEach(J)}function le(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function oe(t,r,s,l,o,c,a=[-1]){const u=F;_(t);const d=r.props||{},h=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:o,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:a,skip_bound:!1};let p=!1;if(h.ctx=s?s(t,d,(e,n,...i)=>{const r=i.length?i[0]:n;return h.ctx&&o(h.ctx[e],h.ctx[e]=r)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](r),p&&function(e,t){-1===e.$$.dirty[0]&&(j.push(e),W(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n}):[],h.update(),p=!0,i(h.before_update),h.fragment=!!l&&l(h.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);h.fragment&&h.fragment.l(e),e.forEach(m)}else h.fragment&&h.fragment.c();r.intro&&ne(t.$$.fragment),se(t,r.target,r.anchor),G()}_(u)}class ce{$destroy(){le(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ae=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};ae.prototype.tokenize=function(e,t){if(!(e=pe(String(e||"").toLowerCase()))||!e.length)return[];var n,i,r,s,l=[],o=e.split(/ +/);for(n=0,i=o.length;n<i;n++){if(r=fe(o[n]),this.settings.diacritics)for(s in be)be.hasOwnProperty(s)&&(r=r.replace(new RegExp(s,"g"),be[s]));t&&(r="\\b"+r),l.push({string:o[n],regex:new RegExp(r,"i")})}return l},ae.prototype.iterator=function(e,t){(me(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},ae.prototype.getScoreFunction=function(e,t){var n,i,r,s;e=this.prepareSearch(e,t),i=e.tokens,n=e.options.fields,r=i.length,s=e.options.nesting;var l,o=function(e,t){var n,i;return e?-1===(i=(e=String(e||"")).search(t.regex))?0:(n=t.string.length/e.length,0===i&&(n+=.5),n):0},c=(l=n.length)?1===l?function(e,t){return o(he(t,n[0],s),e)}:function(e,t){for(var i=0,r=0;i<l;i++)r+=o(he(t,n[i],s),e);return r/l}:function(){return 0};return r?1===r?function(e){return c(i[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,s=0;n<r;n++){if((t=c(i[n],e))<=0)return 0;s+=t}return s/r}:function(e){for(var t=0,n=0;t<r;t++)n+=c(i[t],e);return n/r}:function(){return 0}},ae.prototype.getSortFunction=function(e,t){var n,i,r,s,l,o,c,a,u,d,h;if(h=!(e=(r=this).prepareSearch(e,t)).query&&t.sort_empty||t.sort,u=function(e,n){return"$score"===e?n.score:he(r.items[n.id],e,t.nesting)},l=[],h)for(n=0,i=h.length;n<i;n++)(e.query||"$score"!==h[n].field)&&l.push(h[n]);if(e.query){for(d=!0,n=0,i=l.length;n<i;n++)if("$score"===l[n].field){d=!1;break}d&&l.unshift({field:"$score",direction:"desc"})}else for(n=0,i=l.length;n<i;n++)if("$score"===l[n].field){l.splice(n,1);break}for(a=[],n=0,i=l.length;n<i;n++)a.push("desc"===l[n].direction?-1:1);return(o=l.length)?1===o?(s=l[0].field,c=a[0],function(e,t){return c*ue(u(s,e),u(s,t))}):function(e,t){var n,i,r;for(n=0;n<o;n++)if(r=l[n].field,i=a[n]*ue(u(r,e),u(r,t)))return i;return 0}:null},ae.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var n=(t=de({},t)).fields,i=t.sort,r=t.sort_empty;return n&&!me(n)&&(t.fields=[n]),i&&!me(i)&&(t.sort=[i]),r&&!me(r)&&(t.sort_empty=[r]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e,t.respect_word_boundaries),total:0,items:[]}},ae.prototype.search=function(e,t){var n,i,r,s,l=this;return i=this.prepareSearch(e,t),t=i.options,e=i.query,s=t.score||l.getScoreFunction(i),e.length?l.iterator(l.items,(function(e,r){n=s(e),(!1===t.filter||n>0)&&i.items.push({score:n,id:r})})):l.iterator(l.items,(function(e,t){i.items.push({score:1,id:t})})),(r=l.getSortFunction(i,t))&&i.items.sort(r),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var ue=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=ge(String(e||"")))>(t=ge(String(t||"")))?1:t>e?-1:0},de=function(e,t){var n,i,r,s;for(n=1,i=arguments.length;n<i;n++)if(s=arguments[n])for(r in s)s.hasOwnProperty(r)&&(e[r]=s[r]);return e},he=function(e,t,n){if(e&&t){if(!n)return e[t];for(var i=t.split(".");i.length&&(e=e[i.shift()]););return e}},pe=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},fe=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},me=Array.isArray||"undefined"!=typeof $&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},be={a:"[aḀḁĂăÂâǍǎȺⱥȦȧẠạÄäÀàÁáĀāÃãÅåąĄÃąĄ]",b:"[b␢βΒB฿𐌁ᛒ]",c:"[cĆćĈĉČčĊċC̄c̄ÇçḈḉȻȼƇƈɕᴄＣｃ]",d:"[dĎďḊḋḐḑḌḍḒḓḎḏĐđD̦d̦ƉɖƊɗƋƌᵭᶁᶑȡᴅＤｄð]",e:"[eÉéÈèÊêḘḙĚěĔĕẼẽḚḛẺẻĖėËëĒēȨȩĘęᶒɆɇȄȅẾếỀềỄễỂểḜḝḖḗḔḕȆȇẸẹỆệⱸᴇＥｅɘǝƏƐε]",f:"[fƑƒḞḟ]",g:"[gɢ₲ǤǥĜĝĞğĢģƓɠĠġ]",h:"[hĤĥĦħḨḩẖẖḤḥḢḣɦʰǶƕ]",i:"[iÍíÌìĬĭÎîǏǐÏïḮḯĨĩĮįĪīỈỉȈȉȊȋỊịḬḭƗɨɨ̆ᵻᶖİiIıɪＩｉ]",j:"[jȷĴĵɈɉʝɟʲ]",k:"[kƘƙꝀꝁḰḱǨǩḲḳḴḵκϰ₭]",l:"[lŁłĽľĻļĹĺḶḷḸḹḼḽḺḻĿŀȽƚⱠⱡⱢɫɬᶅɭȴʟＬｌ]",n:"[nŃńǸǹŇňÑñṄṅŅņṆṇṊṋṈṉN̈n̈ƝɲȠƞᵰᶇɳȵɴＮｎŊŋ]",o:"[oØøÖöÓóÒòÔôǑǒŐőŎŏȮȯỌọƟɵƠơỎỏŌōÕõǪǫȌȍՕօ]",p:"[pṔṕṖṗⱣᵽƤƥᵱ]",q:"[qꝖꝗʠɊɋꝘꝙq̃]",r:"[rŔŕɌɍŘřŖŗṘṙȐȑȒȓṚṛⱤɽ]",s:"[sŚśṠṡṢṣꞨꞩŜŝŠšŞşȘșS̈s̈]",t:"[tŤťṪṫŢţṬṭƮʈȚțṰṱṮṯƬƭ]",u:"[uŬŭɄʉỤụÜüÚúÙùÛûǓǔŰűŬŭƯưỦủŪūŨũŲųȔȕ∪]",v:"[vṼṽṾṿƲʋꝞꝟⱱʋ]",w:"[wẂẃẀẁŴŵẄẅẆẇẈẉ]",x:"[xẌẍẊẋχ]",y:"[yÝýỲỳŶŷŸÿỸỹẎẏỴỵɎɏƳƴ]",z:"[zŹźẐẑŽžŻżẒẓẔẕƵƶ]"};const ge=function(){var e,t,n,i,r="",s={};for(n in be)if(be.hasOwnProperty(n))for(r+=i=be[n].substring(2,be[n].length-1),e=0,t=i.length;e<t;e++)s[i.charAt(e)]=n;var l=new RegExp("["+r+"]","g");return function(e){return e.replace(l,(function(e){return s[e]})).toLowerCase()}}();let $e,ve=null;const ye=document.createElement("div");function xe(e,t,n){if(ye.innerHTML=n?n(e):e,""==t||e.isSelected)return ye.outerHTML;const i=new RegExp(`(${ge(t)})`,"ig");return we(ye,i),ye.outerHTML}ye.className="sv-item-content";const we=function(e,t){let n=0;if(3===e.nodeType){const i=ge(e.data),r=i.search(t);if(r>=0&&e.data.length>0){const s=i.match(t),l=document.createElement("span");l.className="highlight";const o=e.splitText(r),c=(o.splitText(s[0].length),o.cloneNode(!0));l.appendChild(c),o.parentNode.replaceChild(l,o),n=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&("highlight"!==e.className||"SPAN"!==e.tagName))for(var i=0;i<e.childNodes.length;++i)i+=we(e.childNodes[i],t);return n};function Se(e,t){const n="value"===e;let i=n?"value":"text";if(t&&t.length){const e=t[0].options?t[0].options[0]:t[0],r=n?0:1,s=n?["id","value","ID"]:["name","title","label"];i=Object.keys(e).filter(e=>s.includes(e)).concat([Object.keys(e)[r]]).shift()}return i}const Ae={name:null,required:!1,multiple:!1,searchable:!0,disabled:!1,creatable:!1,clearable:!1,selectOnTab:!1,placeholder:"Select",valueField:null,labelField:null,max:0,delimiter:",",sortRemoteResults:!0,i18n:{empty:"No options",nomatch:"No matching options",max:"Maximum items :maxItems selected",fetchBefore:"Type to search",fetchWait:"Stop typing to search",fetchEmpty:"No data related to your search"}},Oe=[];function Ee(t,n=e){let i;const r=[];function l(e){if(s(t,e)&&(t=e,i)){const e=!Oe.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),Oe.push(n,t)}if(e){for(let e=0;e<Oe.length;e+=2)Oe[e][0](Oe[e+1]);Oe.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(s,o=e){const c=[s,o];return r.push(c),1===r.length&&(i=n(l)||e),s(t),()=>{const e=r.indexOf(c);-1!==e&&r.splice(e,1),0===r.length&&(i(),i=null)}}}}function ke(t,n,s){const o=!Array.isArray(t),c=o?[t]:t,a=n.length<2;return{subscribe:Ee(s,t=>{let s=!1;const u=[];let d=0,h=e;const p=()=>{if(d)return;h();const i=n(o?u[0]:u,t);a?t(i):h=r(i)?i:e},f=c.map((e,t)=>l(e,e=>{u[t]=e,d&=~(1<<t),s&&p()},()=>{d|=1<<t}));return s=!0,p(),function(){i(f),h()}}).subscribe}}const Fe={};function De(e){return this.has(e)?(!e.isSelected&&this.delete(e),!1):(e.isSelected&&this.add(e),!0)}const Me=(e,t,n)=>{const i=new Set,r=De.bind(i);let s=t.currentValueField,l=t.currentLabelField,o=t.max,c=t.multiple,a=t.creatable,u=t.searchField,d=t.sortField,h=!1,p=t.searchField,f=t.sortField,m=!!t.sortRemote;const b=Le(t),g=b.subscribe(e=>{if(o=e.max,c=e.multiple,a=e.creatable,m=e.sortRemote,s=e.currentValueField,l=e.currentLabelField,!c&&i.size>1&&S.update(e=>e.map(e=>(e.isSelected=!1,e))),c&&o&&i.size>o){let e=0;const t=t=>(t.isSelected&&(e>=o&&(t.isSelected=!1),e++),t);S.update(e=>e.map(t))}e.searchField&&u!==e.searchField&&(u=e.searchField),e.sortField&&d!==e.sortField&&(d=e.sortField)}),$=Ee(""),v=Ee(!1),y=Ee(!1),x=Ee(!1),w=Ee(n.empty),S=Ee([]);let A=[];const O=e=>{h=e.some(e=>e.options),p=function(e){e.options&&(e=e.options[0]);const t=["value","isSelected","isDisabled","selected","disabled"];return Object.keys(e).filter(e=>!t.includes(e))}(e.length>0?e[0]:{[l]:""}),f=!h&&(d||[{field:l,direction:"asc"}]),A=e.reduce((e,t)=>t.options?(e.push(...t.options),e):(e.push(t),e),[]),S.set(e),e.forEach(e=>e.isSelected&&i.add(e))};O(e);const E=ke([S,$,b],([e,t,r],s)=>{if(r.max&&i.size===r.max)return w.set(n.max.replace(":maxItems",r.max)),void s([]);if(""===t||!m)return r.multiple?s(e.reduce((e,t)=>{if(t.options){if(!t.isDisabled){const n=t.options.filter(e=>!e.isSelected);n.length&&e.push({label:t.label,options:n})}}else!t.isSelected&&e.push(t);return e},[])):s(e);const l=new ae(A);h&&(l.getSortFunction=()=>null);let o=l.search(t,{fields:p,sort:f,conjunction:"and"}).items.map(e=>A[e.id]);if(h){let t=o.shift();o=e.reduce((e,n)=>{if(n!==t||n.isSelected||(t=o.shift(),e.push(n)),n.options){const i=[];n.options.forEach(e=>{e!==t||e.isSelected||(i.push(e),t=o.shift())}),i.length&&e.push({label:n.label,options:i})}return e},[])}s(o.filter(e=>!e.isSelected))}),k=ke(E,(e,t)=>{let n=0,i=0,r=0;t(e.reduce((e,t,s)=>t.options?t.isDisabled?(e.push(""),e):(e.push(t.options.map(e=>e.isDisabled?"":r+++i)),e):(i++,t.isDisabled?(e.push(""),e):(e.push(r+n++),e)),[]))}),F=h?ke([E,$,b],([e,t,n],i)=>{i((""!==t?e.reduce((e,t)=>t.options?(e.push(...t.options),e):(e.push(t),e),[]):n.multiple?A.filter(e=>!e.isSelected):A).filter(e=>!e.isDisabled))}):E,D=ke([S,b],([e,t],n)=>{t.multiple||i.clear(),e.forEach(e=>{e.options?!e.isDisabled&&e.options.forEach(r):r(e)}),n(Array.from(i))},Array.from(i)),M=ke(S,(e,t)=>{t(e.reduce((e,t)=>e+=t.options?t.options.length:1,0))}),L=ke([$,F],([e,t],n)=>{n(a&&e?t.length:t.length-1)});return{hasFocus:y,hasDropdownOpened:x,inputValue:$,isFetchingData:v,listMessage:w,settings:b,selectOption:e=>{o&&i.size===o||S.update(t=>(c||i.forEach(e=>{e.isSelected=!1}),"string"==typeof e&&(e={[l]:"*"+e,[s]:encodeURIComponent(e),isSelected:!1,_created:!0},t.push(e)),e.isSelected=!0,t))},deselectOption:e=>S.update(t=>(i.delete(e),e.isSelected=!1,t)),clearSelection:()=>S.update(e=>{const t=[];return e.forEach(e=>{e.options?e.options.forEach(e=>e.isSelected=!1):(e.isSelected=!1,e._created&&i.delete(e))}),t.length&&t.reverse().forEach(t=>e.splice(t,1)),e}),settingsUnsubscribe:g,listLength:M,listIndexMap:k,matchingOptions:E,flatMatching:F,currentListLength:L,selectedOptions:D,updateOpts:O}},Le=e=>{const t=Ee(e||{});return t.updateOne=(e,n)=>{t.update(t=>(t[e]=n,t))},t};function _e(t){let n,r,s,l,o,c,a,u;return{c(){n=g("input"),s=y(),l=g("div"),o=v(t[5]),A(n,"type","text"),A(n,"class","inputBox svelte-mtw92l"),n.disabled=t[1],n.readOnly=r=!t[0],A(n,"style",t[7]),A(n,"placeholder",t[4]),A(l,"class","shadow-text svelte-mtw92l"),J(()=>t[21].call(l))},m(e,i){f(e,n,i),t[19](n),E(n,t[6]),f(e,s,i),f(e,l,i),p(l,o),c=function(e,t){const n=getComputedStyle(e),i=(parseInt(n.zIndex)||0)-1;"static"===n.position&&(e.style.position="relative");const r=g("iframe");r.setAttribute("style",`display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${i};`),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const s=D();let l;return s?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",l=w(window,"message",e=>{e.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{l=w(r.contentWindow,"resize",t)}),p(e,r),()=>{(s||l&&r.contentWindow)&&l(),m(r)}}(l,t[21].bind(l)),a||(u=[w(n,"input",t[20]),w(n,"focus",t[15]),w(n,"blur",t[16]),w(n,"keydown",t[17]),w(n,"keyup",t[11]),w(n,"paste",t[18])],a=!0)},p(e,[t]){2&t&&(n.disabled=e[1]),1&t&&r!==(r=!e[0])&&(n.readOnly=r),128&t&&A(n,"style",e[7]),16&t&&A(n,"placeholder",e[4]),64&t&&n.value!==e[6]&&E(n,e[6]),32&t&&O(o,e[5])},i:e,o:e,d(e){e&&m(n),t[19](null),e&&m(s),e&&m(l),c(),a=!1,i(u)}}}function Te(e,t,n){let i,r,s;let{placeholder:l}=t,{searchable:c}=t,{disabled:a}=t,{multiple:u}=t,d=null,h=0;const{inputValue:p,selectedOptions:f,hasDropdownOpened:m}=I(Fe);let b,g,$,v,y;return o(e,p,e=>n(6,r=e)),o(e,f,e=>n(23,i=e)),o(e,m,e=>n(25,s=e)),e.$$set=e=>{"placeholder"in e&&n(13,l=e.placeholder),"searchable"in e&&n(0,c=e.searchable),"disabled"in e&&n(1,a=e.disabled),"multiple"in e&&n(14,u=e.multiple)},e.$$.update=()=>{8404992&e.$$.dirty&&n(22,b=i.length>0&&!1===u),8396800&e.$$.dirty&&n(4,g=i.length>0?"":l),80&e.$$.dirty&&n(5,$=r||g),8388608&e.$$.dirty&&n(24,v=0===i.length?19:12),20971528&e.$$.dirty&&n(7,y=`width: ${b?2:h+v}px`)},[c,a,d,h,g,$,r,y,p,f,m,function(e){s&&(e.stopImmediatePropagation(),e.preventDefault())},()=>d.focus(),l,u,function(t){R(e,t)},function(t){R(e,t)},function(t){R(e,t)},function(t){R(e,t)},function(e){B[e?"unshift":"push"](()=>{d=e,n(2,d)})},function(){r=this.value,p.set(r)},function(){h=this.clientWidth,n(3,h)}]}class Ce extends ce{constructor(e){super(),oe(this,e,Te,_e,s,{focus:12,placeholder:13,searchable:0,disabled:1,multiple:14})}get focus(){return this.$$.ctx[12]}}const Ne=e=>e.preventDefault();function qe(e,{item:t,index:n}){function i(n){const i=n.target.closest('[data-action="deselect"]')?"deselect":"select";e.dispatchEvent(new CustomEvent(i,{bubble:!0,detail:t}))}function r(){e.dispatchEvent(new CustomEvent("hover",{detail:n}))}return e.onmousedown=Ne,e.onclick=i,!t.isSelected&&e.addEventListener("mouseenter",r),{update(e){t=e.item,n=e.index},destroy(){e.removeEventListener("mousedown",Ne),e.removeEventListener("click",i),!t.isSelected&&e.removeEventListener("mouseenter",r)}}}function Ie(e){let t;return{c(){t=g("a"),t.innerHTML='<svg height="16" width="16" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>',A(t,"href","#deselect"),A(t,"class","sv-item-btn"),A(t,"tabindex","-1"),A(t,"data-action","deselect")},m(e,n){f(e,t,n)},d(e){e&&m(t)}}}function Re(t){let n,s,l,o,c,a,u,d=xe(t[1],t[6],t[5])+"",h=t[2]&&t[4]&&Ie();return{c(){n=g("div"),l=y(),h&&h.c(),s=new L(l),A(n,"class","sv-item"),A(n,"title",o=t[1]._created?"Created item":""),M(n,"is-disabled",t[3])},m(i,o){var m;f(i,n,o),s.m(d,n),p(n,l),h&&h.m(n,null),a||(u=[(m=c=qe.call(null,n,{item:t[1],index:t[0]}),m&&r(m.destroy)?m.destroy:e),w(n,"select",t[8]),w(n,"deselect",t[9]),w(n,"hover",t[10])],a=!0)},p(e,[t]){98&t&&d!==(d=xe(e[1],e[6],e[5])+"")&&s.p(d),e[2]&&e[4]?h||(h=Ie(),h.c(),h.m(n,null)):h&&(h.d(1),h=null),2&t&&o!==(o=e[1]._created?"Created item":"")&&A(n,"title",o),c&&r(c.update)&&3&t&&c.update.call(null,{item:e[1],index:e[0]}),8&t&&M(n,"is-disabled",e[3])},i:e,o:e,d(e){e&&m(n),h&&h.d(),a=!1,i(u)}}}function je(e,t,n){let i;const{inputValue:r}=I(Fe);o(e,r,e=>n(6,i=e));let{index:s=-1}=t,{item:l={}}=t,{isSelected:c=!1}=t,{isDisabled:a=!1}=t,{isMultiple:u=!1}=t,{formatter:d=null}=t;return e.$$set=e=>{"index"in e&&n(0,s=e.index),"item"in e&&n(1,l=e.item),"isSelected"in e&&n(2,c=e.isSelected),"isDisabled"in e&&n(3,a=e.isDisabled),"isMultiple"in e&&n(4,u=e.isMultiple),"formatter"in e&&n(5,d=e.formatter)},[s,l,c,a,u,d,i,r,function(t){R(e,t)},function(t){R(e,t)},function(t){R(e,t)}]}class Be extends ce{constructor(e){super(),oe(this,e,je,Re,s,{index:0,item:1,isSelected:2,isDisabled:3,isMultiple:4,formatter:5})}}function He(e,t,n){const i=e.slice();return i[32]=t[n],i}const ze=e=>({}),Ve=e=>({});function Pe(e){let t,n,i=e[9],r=[];for(let t=0;t<i.length;t+=1)r[t]=We(He(e,i,t));const s=e=>ie(r[e],1,1,()=>{r[e]=null});return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=x()},m(e,i){for(let t=0;t<r.length;t+=1)r[t].m(e,i);f(e,t,i),n=!0},p(e,n){if(548&n[0]){let l;for(i=e[9],l=0;l<i.length;l+=1){const s=He(e,i,l);r[l]?(r[l].p(s,n),ne(r[l],1)):(r[l]=We(s),r[l].c(),ne(r[l],1),r[l].m(t.parentNode,t))}for(ee(),l=i.length;l<r.length;l+=1)s(l);te()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)ne(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)ie(r[e]);n=!1},d(e){b(r,e),e&&m(t)}}}function We(e){let t,n;return t=new Be({props:{formatter:e[2],item:e[32],isSelected:!0,isMultiple:e[5]}}),t.$on("deselect",e[24]),{c(){re(t.$$.fragment)},m(e,i){se(t,e,i),n=!0},p(e,n){const i={};4&n[0]&&(i.formatter=e[2]),512&n[0]&&(i.item=e[32]),32&n[0]&&(i.isMultiple=e[5]),t.$set(i)},i(e){n||(ne(t.$$.fragment,e),n=!0)},o(e){ie(t.$$.fragment,e),n=!1},d(e){le(t,e)}}}function Ue(t){let n,r,s;return{c(){n=g("div"),n.innerHTML='<svg class="indicator-icon svelte-6rgaw" height="20" width="20" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"></path></svg>',A(n,"aria-hidden","true"),A(n,"class","indicator-container close-icon svelte-6rgaw")},m(e,i){f(e,n,i),r||(s=[w(n,"mousedown",S(t[23])),w(n,"click",t[28])],r=!0)},p:e,d(e){e&&m(n),r=!1,i(s)}}}function Je(e){let t;return{c(){t=g("span"),A(t,"class","indicator-separator svelte-6rgaw")},m(e,n){f(e,t,n)},d(e){e&&m(t)}}}function Ke(e){let t,n,r,s,l,o,a,d,h,b,$,v,x;const O=e[20].icon,E=c(O,e,e[19],Ve);let k=e[9].length&&Pe(e),F={disabled:e[3],searchable:e[1],placeholder:e[4],multiple:e[5]};l=new Ce({props:F}),e[25](l),l.$on("focus",e[17]),l.$on("blur",e[18]),l.$on("keydown",e[26]),l.$on("paste",e[27]);let D=e[0]&&e[9].length&&!e[3]&&Ue(e),L=e[0]&&Je();return{c(){t=g("div"),E&&E.c(),n=y(),r=g("div"),k&&k.c(),s=y(),re(l.$$.fragment),o=y(),a=g("div"),D&&D.c(),d=y(),L&&L.c(),h=y(),b=g("div"),b.innerHTML='<svg width="20" class="indicator-icon svelte-6rgaw" viewBox="0 0 20 20" aria-hidden="true" focusable="false"><path d="M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"></path></svg>',A(r,"class","sv-content sv-input-row svelte-6rgaw"),M(r,"has-multiSelection",e[5]),A(b,"aria-hidden","true"),A(b,"class","indicator-container svelte-6rgaw"),A(a,"class","indicator svelte-6rgaw"),M(a,"is-loading",e[10]),A(t,"class","sv-control svelte-6rgaw"),M(t,"is-active",e[8]),M(t,"is-disabled",e[3])},m(i,c){f(i,t,c),E&&E.m(t,null),p(t,n),p(t,r),k&&k.m(r,null),p(r,s),se(l,r,null),p(t,o),p(t,a),D&&D.m(a,null),p(a,d),L&&L.m(a,null),p(a,h),p(a,b),$=!0,v||(x=[w(b,"mousedown",S(e[22])),w(t,"mousedown",S(e[21])),w(t,"click",S(e[6]))],v=!0)},p(e,n){E&&E.p&&524288&n[0]&&u(E,O,e,e[19],n,ze,Ve),e[9].length?k?(k.p(e,n),512&n[0]&&ne(k,1)):(k=Pe(e),k.c(),ne(k,1),k.m(r,s)):k&&(ee(),ie(k,1,1,()=>{k=null}),te());const i={};8&n[0]&&(i.disabled=e[3]),2&n[0]&&(i.searchable=e[1]),16&n[0]&&(i.placeholder=e[4]),32&n[0]&&(i.multiple=e[5]),l.$set(i),32&n[0]&&M(r,"has-multiSelection",e[5]),e[0]&&e[9].length&&!e[3]?D?D.p(e,n):(D=Ue(e),D.c(),D.m(a,d)):D&&(D.d(1),D=null),e[0]?L||(L=Je(),L.c(),L.m(a,h)):L&&(L.d(1),L=null),1024&n[0]&&M(a,"is-loading",e[10]),256&n[0]&&M(t,"is-active",e[8]),8&n[0]&&M(t,"is-disabled",e[3])},i(e){$||(ne(E,e),ne(k),ne(l.$$.fragment,e),$=!0)},o(e){ie(E,e),ie(k),ie(l.$$.fragment,e),$=!1},d(n){n&&m(t),E&&E.d(n),k&&k.d(),e[25](null),le(l),D&&D.d(),L&&L.d(),v=!1,i(x)}}}function Xe(e,t,n){let i,r,s,l,c,{$$slots:a={},$$scope:u}=t,{clearable:d}=t,{searchable:p}=t,{renderer:f}=t,{disabled:m}=t,{placeholder:b}=t,{multiple:g}=t;const $=q(),{inputValue:v,hasFocus:y,hasDropdownOpened:x,selectedOptions:w,isFetchingData:S}=I(Fe);o(e,v,e=>n(31,s=e)),o(e,y,e=>n(8,i=e)),o(e,x,e=>n(29,r=e)),o(e,w,e=>n(9,l=e)),o(e,S,e=>n(10,c=e));let A=void 0;let O;return e.$$set=e=>{"clearable"in e&&n(0,d=e.clearable),"searchable"in e&&n(1,p=e.searchable),"renderer"in e&&n(2,f=e.renderer),"disabled"in e&&n(3,m=e.disabled),"placeholder"in e&&n(4,b=e.placeholder),"multiple"in e&&n(5,g=e.multiple),"$$scope"in e&&n(19,u=e.$$scope)},e.$$.update=()=>{544&e.$$.dirty[0]|1&e.$$.dirty[1]&&(O=!!g||!s&&l.length)},[d,p,f,m,b,g,function(e){if(!m)return e?void(i?h(x,r=!r):A.focus()):(!i&&A.focus(),void h(x,r=!0))},A,i,l,c,$,v,y,x,w,S,function(){h(y,i=!0),h(x,r=!0)},function(){h(y,i=!1),h(x,r=!1),h(v,s="")},u,a,function(t){R(e,t)},function(t){R(e,t)},function(t){R(e,t)},function(t){R(e,t)},function(e){B[e?"unshift":"push"](()=>{A=e,n(7,A)})},function(t){R(e,t)},function(t){R(e,t)},()=>$("deselect")]}class Ge extends ce{constructor(e){super(),oe(this,e,Xe,Ke,s,{clearable:0,searchable:1,renderer:2,disabled:3,placeholder:4,multiple:5,focusControl:6},[-1,-1])}get focusControl(){return this.$$.ctx[6]}}function Qe(e,t,n){const i=e.slice();return i[42]=t[n],i[44]=n,i}const Ye=e=>({}),Ze=e=>({});function et(e,t,n){const i=e.slice();return i[39]=t[n],i[41]=n,i}function tt(e){let t,n,i=e[7],r=[];for(let t=0;t<i.length;t+=1)r[t]=st(et(e,i,t));const s=e=>ie(r[e],1,1,()=>{r[e]=null});return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=x()},m(e,i){for(let t=0;t<r.length;t+=1)r[t].m(e,i);f(e,t,i),n=!0},p(e,n){if(2188&n[0]|2&n[1]){let l;for(i=e[7],l=0;l<i.length;l+=1){const s=et(e,i,l);r[l]?(r[l].p(s,n),ne(r[l],1)):(r[l]=st(s),r[l].c(),ne(r[l],1),r[l].m(t.parentNode,t))}for(ee(),l=i.length;l<r.length;l+=1)s(l);te()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)ne(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)ie(r[e]);n=!1},d(e){b(r,e),e&&m(t)}}}function nt(e){let t,n,i,r,s;return n=new Be({props:{formatter:e[3],index:e[11][e[41]],isDisabled:e[39].isDisabled,item:e[39]}}),n.$on("hover",e[28]),n.$on("select",e[29]),{c(){t=g("div"),re(n.$$.fragment),i=y(),A(t,"data-pos",r=e[11][e[41]]),M(t,"active",e[11][e[41]]===e[2])},m(e,r){f(e,t,r),se(n,t,null),p(t,i),s=!0},p(e,i){const l={};8&i[0]&&(l.formatter=e[3]),2048&i[0]&&(l.index=e[11][e[41]]),128&i[0]&&(l.isDisabled=e[39].isDisabled),128&i[0]&&(l.item=e[39]),2&i[1]&&(l.$$scope={dirty:i,ctx:e}),n.$set(l),(!s||2048&i[0]&&r!==(r=e[11][e[41]]))&&A(t,"data-pos",r),2052&i[0]&&M(t,"active",e[11][e[41]]===e[2])},i(e){s||(ne(n.$$.fragment,e),s=!0)},o(e){ie(n.$$.fragment,e),s=!1},d(e){e&&m(t),le(n)}}}function it(e){let t,n,i,r,s,l;const o=e[23]["dropdown-group-header"],a=c(o,e,e[32],Ze),d=a||function(e){let t,n,i=e[39].label+"";return{c(){t=g("b"),n=v(i)},m(e,i){f(e,t,i),p(t,n)},p(e,t){128&t[0]&&i!==(i=e[39].label+"")&&O(n,i)},d(e){e&&m(t)}}}(e);let h=e[39].options,$=[];for(let t=0;t<h.length;t+=1)$[t]=rt(Qe(e,h,t));const E=e=>ie($[e],1,1,()=>{$[e]=null});return{c(){t=g("div"),d&&d.c(),n=y();for(let e=0;e<$.length;e+=1)$[e].c();i=x(),A(t,"class","optgroup-header svelte-195soi6")},m(o,c){f(o,t,c),d&&d.m(t,null),f(o,n,c);for(let e=0;e<$.length;e+=1)$[e].m(o,c);f(o,i,c),r=!0,s||(l=w(t,"mousedown",S(e[25])),s=!0)},p(e,t){if(a?a.p&&2&t[1]&&u(a,o,e,e[32],t,Ye,Ze):d&&d.p&&128&t[0]&&d.p(e,t),2188&t[0]){let n;for(h=e[39].options,n=0;n<h.length;n+=1){const r=Qe(e,h,n);$[n]?($[n].p(r,t),ne($[n],1)):($[n]=rt(r),$[n].c(),ne($[n],1),$[n].m(i.parentNode,i))}for(ee(),n=h.length;n<$.length;n+=1)E(n);te()}},i(e){if(!r){ne(d,e);for(let e=0;e<h.length;e+=1)ne($[e]);r=!0}},o(e){ie(d,e),$=$.filter(Boolean);for(let e=0;e<$.length;e+=1)ie($[e]);r=!1},d(e){e&&m(t),d&&d.d(e),e&&m(n),b($,e),e&&m(i),s=!1,l()}}}function rt(e){let t,n,i,r,s;return n=new Be({props:{formatter:e[3],isDisabled:e[39].isDisabled||e[42].isDisabled,index:e[11][e[41]][e[44]],item:e[42]}}),n.$on("hover",e[26]),n.$on("select",e[27]),{c(){t=g("div"),re(n.$$.fragment),i=y(),A(t,"data-pos",r=e[11][e[41]][e[44]]),A(t,"class","optgroup-item svelte-195soi6"),M(t,"active",e[11][e[41]][e[44]]===e[2])},m(e,r){f(e,t,r),se(n,t,null),p(t,i),s=!0},p(e,i){const l={};8&i[0]&&(l.formatter=e[3]),128&i[0]&&(l.isDisabled=e[39].isDisabled||e[42].isDisabled),2048&i[0]&&(l.index=e[11][e[41]][e[44]]),128&i[0]&&(l.item=e[42]),2&i[1]&&(l.$$scope={dirty:i,ctx:e}),n.$set(l),(!s||2048&i[0]&&r!==(r=e[11][e[41]][e[44]]))&&A(t,"data-pos",r),2052&i[0]&&M(t,"active",e[11][e[41]][e[44]]===e[2])},i(e){s||(ne(n.$$.fragment,e),s=!0)},o(e){ie(n.$$.fragment,e),s=!1},d(e){e&&m(t),le(n)}}}function st(e){let t,n,i,r,s;const l=[it,nt],o=[];function c(e,n){return 128&n[0]&&(t=!(!e[39].options||!Array.isArray(e[39].options))),t?0:1}return n=c(e,[-1]),i=o[n]=l[n](e),{c(){i.c(),r=x()},m(e,t){o[n].m(e,t),f(e,r,t),s=!0},p(e,t){let s=n;n=c(e,t),n===s?o[n].p(e,t):(ee(),ie(o[s],1,1,()=>{o[s]=null}),te(),i=o[n],i||(i=o[n]=l[n](e),i.c()),ne(i,1),i.m(r.parentNode,r))},i(e){s||(ne(i),s=!0)},o(e){ie(i),s=!1},d(e){o[n].d(e),e&&m(r)}}}function lt(e){let t,n,i,s,l,o,c,a,u=e[12]!==e[2]&&ot();return{c(){t=g("div"),n=g("span"),i=v("Create '"),s=v(e[8]),l=v("'"),o=y(),u&&u.c(),A(t,"class","creatable-row svelte-195soi6"),M(t,"active",e[12]===e[2])},m(d,h){f(d,t,h),p(t,n),p(n,i),p(n,s),p(n,l),p(t,o),u&&u.m(t,null),c||(a=w(t,"click",(function(){r(e[14]("select",e[8]))&&e[14]("select",e[8]).apply(this,arguments)})),c=!0)},p(n,i){e=n,256&i[0]&&O(s,e[8]),e[12]!==e[2]?u||(u=ot(),u.c(),u.m(t,null)):u&&(u.d(1),u=null),4100&i[0]&&M(t,"active",e[12]===e[2])},d(e){e&&m(t),u&&u.d(),c=!1,a()}}}function ot(e){let t;return{c(){t=g("span"),t.innerHTML='<kbd class="svelte-195soi6">Ctrl</kbd>+<kbd class="svelte-195soi6">Enter</kbd>',A(t,"class","shortcut svelte-195soi6")},m(e,n){f(e,t,n)},d(e){e&&m(t)}}}function ct(e){let t,n;return{c(){t=g("div"),n=v(e[13]),A(t,"class","empty-list-row svelte-195soi6")},m(e,i){f(e,t,i),p(t,n)},p(e,t){8192&t[0]&&O(n,e[13])},d(e){e&&m(t)}}}function at(e){let t,n,i,r,s,l,o,c=e[10]&&tt(e),a=e[8]&&e[0]&&!e[1]&&lt(e),u=(e[6]||e[1])&&ct(e);return{c(){t=g("div"),n=g("div"),c&&c.c(),i=y(),a&&a.c(),r=y(),u&&u.c(),A(n,"class","sv-dropdown-content svelte-195soi6"),M(n,"max-reached",e[1]),A(t,"class","sv-dropdown svelte-195soi6"),A(t,"aria-expanded",e[9]),A(t,"tabindex","-1")},m(d,h){f(d,t,h),p(t,n),c&&c.m(n,null),p(n,i),a&&a.m(n,null),p(n,r),u&&u.m(n,null),e[30](n),e[31](t),s=!0,l||(o=w(t,"mousedown",S(e[24])),l=!0)},p(e,l){e[10]?c?(c.p(e,l),1024&l[0]&&ne(c,1)):(c=tt(e),c.c(),ne(c,1),c.m(n,i)):c&&(ee(),ie(c,1,1,()=>{c=null}),te()),e[8]&&e[0]&&!e[1]?a?a.p(e,l):(a=lt(e),a.c(),a.m(n,r)):a&&(a.d(1),a=null),e[6]||e[1]?u?u.p(e,l):(u=ct(e),u.c(),u.m(n,null)):u&&(u.d(1),u=null),2&l[0]&&M(n,"max-reached",e[1]),(!s||512&l[0])&&A(t,"aria-expanded",e[9])},i(e){s||(ne(c),s=!0)},o(e){ie(c),s=!1},d(n){n&&m(t),c&&c.d(),a&&a.d(),u&&u.d(),e[30](null),e[31](null),l=!1,o()}}}function ut(e,t,n){let i,r,s,l,c,a,u,{$$slots:d={},$$scope:h}=t,{creatable:p}=t,{maxReached:f=!1}=t,{dropdownIndex:m=0}=t,{renderer:b}=t;const g=q(),{inputValue:$,hasDropdownOpened:v,listLength:y,currentListLength:x,listMessage:w,isFetchingData:S,matchingOptions:A,flatMatching:O,selectedOptions:E,listIndexMap:k}=I(Fe);let F,D;o(e,$,e=>n(8,r=e)),o(e,v,e=>n(9,s=e)),o(e,y,e=>n(10,l=e)),o(e,x,e=>n(12,a=e)),o(e,w,e=>n(13,u=e)),o(e,A,e=>n(7,i=e)),o(e,k,e=>n(11,c=e));let M,L=!1;function _(e){if(!D)return;const t=function(e){const t=e.getBoundingClientRect(),n={};return n.top=t.top<0||t.top-t.height<0,n.left=t.left<0,n.bottom=t.bottom>(window.innerHeight||document.documentElement.clientHeight),n.right=t.right>(window.innerWidth||document.documentElement.clientWidth),n.any=n.top||n.left||n.bottom||n.right,n}(D);t.bottom&&!t.top?n(5,D.style.bottom=D.parentElement.clientHeight+1+"px",D):e&&!t.top||n(5,D.style.bottom="",D)}return C(()=>{M=v.subscribe(e=>{U().then(()=>_(e)),document[e?"addEventListener":"removeEventListener"]("scroll",()=>_(e))})}),N(()=>M()),e.$$set=e=>{"creatable"in e&&n(0,p=e.creatable),"maxReached"in e&&n(1,f=e.maxReached),"dropdownIndex"in e&&n(2,m=e.dropdownIndex),"renderer"in e&&n(3,b=e.renderer),"$$scope"in e&&n(32,h=e.$$scope)},e.$$.update=()=>{385&e.$$.dirty[0]&&n(6,L=i.length<1&&(!p||!r))},[p,f,m,b,F,D,L,i,r,s,l,c,a,u,g,$,v,y,x,w,A,k,function(e){const t=F.querySelector(`[data-pos="${m}"]`);if(!t)return;const i=t.getBoundingClientRect(),r=D.getBoundingClientRect(),s=t.offsetHeight/3;switch(!0){case t.offsetTop<D.scrollTop:n(5,D.scrollTop=t.offsetTop-s,D);break;case t.offsetTop+i.height>D.scrollTop+r.height:n(5,D.scrollTop=t.offsetTop+i.height-D.offsetHeight+s,D)}},d,function(t){R(e,t)},function(t){R(e,t)},function(t){R(e,t)},function(t){R(e,t)},function(t){R(e,t)},function(t){R(e,t)},function(e){B[e?"unshift":"push"](()=>{F=e,n(4,F)})},function(e){B[e?"unshift":"push"](()=>{D=e,n(5,D)})},h]}class dt extends ce{constructor(e){super(),oe(this,e,ut,at,s,{creatable:0,maxReached:1,dropdownIndex:2,renderer:3,scrollIntoView:22},[-1,-1])}get scrollIntoView(){return this.$$.ctx[22]}}function ht(e,t,n){const i=e.slice();return i[79]=t[n],i}const pt=e=>({}),ft=e=>({});function mt(e){let t,n;const i=e[47].icon,r=c(i,e,e[50],ft);return{c(){t=g("div"),r&&r.c(),A(t,"slot","icon"),A(t,"class","icon-slot svelte-1h9htsj")},m(e,i){f(e,t,i),r&&r.m(t,null),n=!0},p(e,t){r&&r.p&&524288&t[1]&&u(r,i,e,e[50],t,pt,ft)},i(e){n||(ne(r,e),n=!0)},o(e){ie(r,e),n=!1},d(e){e&&m(t),r&&r.d(e)}}}function bt(e){let t,n=e[16],i=[];for(let t=0;t<n.length;t+=1)i[t]=gt(ht(e,n,t));return{c(){t=g("select");for(let e=0;e<i.length;e+=1)i[e].c();A(t,"name",e[3]),t.multiple=e[1],A(t,"class","is-hidden svelte-1h9htsj"),A(t,"tabindex","-1"),t.required=e[4],t.disabled=e[2]},m(e,n){f(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null)},p(e,r){if(65536&r[0]){let s;for(n=e[16],s=0;s<n.length;s+=1){const l=ht(e,n,s);i[s]?i[s].p(l,r):(i[s]=gt(l),i[s].c(),i[s].m(t,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=n.length}8&r[0]&&A(t,"name",e[3]),2&r[0]&&(t.multiple=e[1]),16&r[0]&&(t.required=e[4]),4&r[0]&&(t.disabled=e[2])},d(e){e&&m(t),b(i,e)}}}function gt(e){let t,n,i,r=e[79].text+"";return{c(){t=g("option"),n=v(r),t.__value=i=e[79].value,t.value=t.__value,t.selected=!0},m(e,i){f(e,t,i),p(t,n)},p(e,s){65536&s[0]&&r!==(r=e[79].text+"")&&O(n,r),65536&s[0]&&i!==(i=e[79].value)&&(t.__value=i,t.value=t.__value)},d(e){e&&m(t)}}}function $t(e){let t,n,i,r,s,l,o,c={renderer:e[15],disabled:e[2],clearable:e[7],searchable:e[8],placeholder:e[9],multiple:e[1],$$slots:{icon:[mt]},$$scope:{ctx:e}};n=new Ge({props:c}),e[48](n),n.$on("deselect",e[25]),n.$on("keydown",e[27]),n.$on("paste",e[28]);let a={renderer:e[15],creatable:e[5],maxReached:e[6]&&e[6]===e[16].length,dropdownIndex:e[14]};r=new dt({props:a}),e[49](r),r.$on("select",e[24]),r.$on("hover",e[26]);let u=e[3]&&!e[0]&&bt(e);return{c(){t=g("div"),re(n.$$.fragment),i=y(),re(r.$$.fragment),s=y(),u&&u.c(),A(t,"class",l=d("svelecte "+e[10])+" svelte-1h9htsj"),A(t,"style",e[11]),M(t,"is-disabled",e[2])},m(e,l){f(e,t,l),se(n,t,null),p(t,i),se(r,t,null),p(t,s),u&&u.m(t,null),o=!0},p(e,i){const s={};32768&i[0]&&(s.renderer=e[15]),4&i[0]&&(s.disabled=e[2]),128&i[0]&&(s.clearable=e[7]),256&i[0]&&(s.searchable=e[8]),512&i[0]&&(s.placeholder=e[9]),2&i[0]&&(s.multiple=e[1]),524288&i[1]&&(s.$$scope={dirty:i,ctx:e}),n.$set(s);const c={};32768&i[0]&&(c.renderer=e[15]),32&i[0]&&(c.creatable=e[5]),65600&i[0]&&(c.maxReached=e[6]&&e[6]===e[16].length),16384&i[0]&&(c.dropdownIndex=e[14]),r.$set(c),e[3]&&!e[0]?u?u.p(e,i):(u=bt(e),u.c(),u.m(t,null)):u&&(u.d(1),u=null),(!o||1024&i[0]&&l!==(l=d("svelecte "+e[10])+" svelte-1h9htsj"))&&A(t,"class",l),(!o||2048&i[0])&&A(t,"style",e[11]),1028&i[0]&&M(t,"is-disabled",e[2])},i(e){o||(ne(n.$$.fragment,e),ne(r.$$.fragment,e),o=!0)},o(e){ie(n.$$.fragment,e),ie(r.$$.fragment,e),o=!1},d(i){i&&m(t),e[48](null),le(n),e[49](null),le(r),u&&u.d()}}}const vt={default(e){return e[this.label]}};function yt(e,t){e instanceof Object?vt=Object.assign(vt,e):vt[e]=t}const xt=Ae;function wt(e,t,n){let i,r,s,l,c,a,u,{$$slots:d={},$$scope:p}=t,{name:f=null}=t,{anchor:m=null}=t,{required:b=!1}=t,{multiple:g=Ae.multiple}=t,{disabled:$=Ae.disabled}=t,{creatable:v=Ae.creatable}=t,{selectOnTab:y=Ae.selectOnTab}=t,{valueField:x=Ae.valueField}=t,{labelField:w=Ae.labelField}=t,{max:S=Ae.max}=t,{renderer:A=null}=t,{clearable:O=Ae.clearable}=t,{searchable:E=Ae.searchable}=t,{delimiter:k=Ae.delimiter}=t,{placeholder:F="Select"}=t,{fetch:D=null}=t,{fetchMode:M="auto"}=t,{fetchCallback:L=null}=t,{options:_=[]}=t,{searchField:I=null}=t,{sortField:R=null}=t,{sortRemote:j=Ae.sortRemoteResults}=t,{searchMode:H="auto"}=t,{class:z="svelecte-control"}=t,{style:V=null}=t,{selection:P}=t,{value:W}=t;const J=q();let K,X,G=!1,Q=!1,Y=!g&&_.some(e=>e.isSelected)?_.indexOf(_.filter(e=>e.isSelected).shift()):0,Z=null,ee=x,te=w;g=f&&!g?f.endsWith("[]"):g,"auto"===H&&(ee=x||Se("value",_),te=w||Se("label",_));const{hasFocus:ne,hasDropdownOpened:ie,inputValue:re,isFetchingData:se,listMessage:le,settings:oe,selectOption:ce,deselectOption:ae,clearSelection:ue,settingsUnsubscribe:de,listLength:he,listIndexMap:pe,matchingOptions:fe,flatMatching:me,currentListLength:be,selectedOptions:ge,updateOpts:ye}=Me(_,{currentValueField:ee,currentLabelField:te,max:S,multiple:g,creatable:v,searchField:I,sortField:R,sortRemote:j},xt.i18n);function xe(e){if(Z&&(Z(),Z=null),!e)return null;const t="string"==typeof e?(r=e,function(e,t){return new Promise((n,i)=>{ve=new XMLHttpRequest,ve.open("GET",""+r.replace("[query]",encodeURIComponent(e))),ve.setRequestHeader("X-Requested-With","XMLHttpRequest"),ve.send(),ve.onreadystatechange=()=>{if(4===ve.readyState)if(200===ve.status){const e=JSON.parse(ve.response);n(t?t(e):e.data||e.items||e.options||e)}else i()}})}):e;var r;const s="init"===M||"auto"===M&&"string"==typeof e&&-1===e.indexOf("[query]"),l=(o=e=>{t(e,L).then(e=>{n(30,_=e)}).catch(()=>n(30,_=[])).finally(()=>{se.set(!1),i&&ie.set(!0),le.set(xt.i18n.fetchEmpty),U().then(()=>J("fetch",_))})},c=500,function(){const e=this,t=arguments;clearTimeout($e),$e=setTimeout((function(){o.apply(e,t)}),c)});var o,c;return s?("string"==typeof e&&-1!==e.indexOf("[parent]")||(se.set(!0),l(null)),null):(Z=re.subscribe(e=>{ve&&4!==ve.readyState&&ve.abort(),e?(se.set(!0),le.set(xt.i18n.fetchWait),ie.set(!1),l(e)):le.set(xt.i18n.fetchBefore)}),l)}o(e,ne,e=>n(58,i=e)),o(e,ie,e=>n(61,c=e)),o(e,re,e=>n(60,l=e)),o(e,se,e=>n(63,u=e)),o(e,me,e=>n(59,s=e)),o(e,be,e=>n(62,a=e)),o(e,ge,e=>n(16,r=e)),function(e,t){T().$$.context.set(e,t)}(Fe,{hasFocus:ne,hasDropdownOpened:ie,inputValue:re,listMessage:le,selectOption:ce,deselectOption:ae,clearSelection:ue,listLength:he,matchingOptions:fe,flatMatching:me,currentListLength:be,selectedOptions:ge,listIndexMap:pe,isFetchingData:se}),W&&Le(W);let we,Oe,Ee,ke=_;function De(){U().then(()=>{J("change",P)})}function Le(e){Array.isArray(e)||(e=[e]),e&&e.length&&e[0]instanceof Object&&(e=e.map(e=>e[ee])),ue();const t=[];e.forEach(e=>{s.some(n=>e==n[ee]&&(t.push(n),!0))}),t.forEach(ce)}function _e(e,t){t=t||e.detail,$||t.isDisabled||(ce(t),h(re,l=""),g||h(ie,c=!1),De())}function Te(e,t){$||((t=t||e.detail)?ae(t):ue(),U().then(X.focusControl),De())}return C(()=>{n(51,G=!0),we=be.subscribe(e=>{e<=Y&&n(14,Y=e),Y<0&&n(14,Y=0),U().then(()=>K&&K.scrollIntoView({}))}),m&&m.classList.add("anchored-select")}),N(()=>{we(),de()}),e.$$set=e=>{"name"in e&&n(3,f=e.name),"anchor"in e&&n(0,m=e.anchor),"required"in e&&n(4,b=e.required),"multiple"in e&&n(1,g=e.multiple),"disabled"in e&&n(2,$=e.disabled),"creatable"in e&&n(5,v=e.creatable),"selectOnTab"in e&&n(33,y=e.selectOnTab),"valueField"in e&&n(34,x=e.valueField),"labelField"in e&&n(35,w=e.labelField),"max"in e&&n(6,S=e.max),"renderer"in e&&n(36,A=e.renderer),"clearable"in e&&n(7,O=e.clearable),"searchable"in e&&n(8,E=e.searchable),"delimiter"in e&&n(37,k=e.delimiter),"placeholder"in e&&n(9,F=e.placeholder),"fetch"in e&&n(29,D=e.fetch),"fetchMode"in e&&n(38,M=e.fetchMode),"fetchCallback"in e&&n(39,L=e.fetchCallback),"options"in e&&n(30,_=e.options),"searchField"in e&&n(40,I=e.searchField),"sortField"in e&&n(41,R=e.sortField),"sortRemote"in e&&n(42,j=e.sortRemote),"searchMode"in e&&n(43,H=e.searchMode),"class"in e&&n(10,z=e.class),"style"in e&&n(11,V=e.style),"selection"in e&&n(31,P=e.selection),"value"in e&&n(32,W=e.value),"$$scope"in e&&n(50,p=e.$$scope)},e.$$.update=()=>{if(536870912&e.$$.dirty[0]|128&e.$$.dirty[1]&&(Oe="init"===M||"string"==typeof D&&-1===D.indexOf("[query]")),536870912&e.$$.dirty[0]&&xe(D),1073741824&e.$$.dirty[0]|26218520&e.$$.dirty[1]&&G&&ke!==_){if("auto"===H){const e=Se("value",_||null),t=Se("label",_||null);x||ee===e||n(54,ee=e),w||te===t||n(55,te=t)}ye(_)}98&e.$$.dirty[0]|25169408&e.$$.dirty[1]&&oe.set({max:S,multiple:g,creatable:v,searchField:I,sortField:R,currentLabelField:te,currentValueField:ee,sortRemote:j}),16777248&e.$$.dirty[1]&&n(15,Ee=vt[A]||vt.default.bind({label:te})),65539&e.$$.dirty[0]|8388610&e.$$.dirty[1]&&(n(31,P=g?r:r.length?r[0]:null),n(32,W=g?r.map(e=>e[ee]):r.length?r[0][ee]:null),m&&W&&(n(0,m.innerHTML=(Array.isArray(W)?W:[W]).reduce((e,t)=>e+=`<option value="${t}" selected>${t}</option>`,""),m),m.dispatchEvent(new Event("change"))))},[m,g,$,f,b,v,S,O,E,F,z,V,K,X,Y,Ee,r,ne,ie,re,se,me,be,ge,_e,Te,function(e){Q?Q=!1:n(14,Y=e.detail)},function(e){if(v&&k.indexOf(e.key)>-1)return _e(null,l),void e.preventDefault();const t=y&&c&&!e.shiftKey?"Tab":"No-tab";switch(e.key){case"PageDown":n(14,Y=0);case"ArrowUp":if(!c)return void h(ie,c=!0);e.preventDefault(),n(14,Y=0==Y?a:Y-1),U().then(K.scrollIntoView),Q=!0;break;case"PageUp":n(14,Y=a+2);case"ArrowDown":if(!c)return void h(ie,c=!0);e.preventDefault(),n(14,Y=Y>=a?0:Y+1),U().then(K.scrollIntoView),Q=!0;break;case"Escape":l||h(ie,c=!1),h(re,l="");break;case t:h(ie,c=!1),e.preventDefault();case"Enter":if(!c)return;let i=s[Y];v&&l&&(i=!i||e.ctrlKey?l:i),i&&_e(null,i),s.length<=Y&&n(14,Y=a>0?a:0),e.preventDefault();break;case" ":c||(h(ie,c=!0),e.preventDefault());break;case"Backspace":case"Delete":""===l&&r.length&&(e.ctrlKey?Te({}):Te(null,r.pop()));default:e.ctrlKey||["Tab","Shift"].includes(e.key)||c||u||h(ie,c=!0),!g&&r.length&&"Tab"!==e.key&&e.preventDefault()}},function(e){if(v){e.preventDefault();const t=new RegExp("([^"+k+"\\n]+)","g");e.clipboardData.getData("text/plain").match(t).forEach(e=>_e(null,e))}},D,_,P,W,y,x,w,A,k,M,L,I,R,j,H,e=>P?g?P.map(t=>e?t[ee]:Object.assign({},t)):e?P[ee]:Object.assign({},P):g?[]:null,e=>Le(e),e=>{e&&n(2,$=!0),ue(),n(29,D=null)},d,function(e){B[e?"unshift":"push"](()=>{X=e,n(13,X)})},function(e){B[e?"unshift":"push"](()=>{K=e,n(12,K)})},p]}class St extends ce{constructor(e){super(),oe(this,e,wt,$t,s,{name:3,anchor:0,required:4,multiple:1,disabled:2,creatable:5,selectOnTab:33,valueField:34,labelField:35,max:6,renderer:36,clearable:7,searchable:8,delimiter:37,placeholder:9,fetch:29,fetchMode:38,fetchCallback:39,options:30,searchField:40,sortField:41,sortRemote:42,searchMode:43,class:10,style:11,selection:31,value:32,getSelection:44,setSelection:45,clearByParent:46},[-1,-1,-1])}get getSelection(){return this.$$.ctx[44]}get setSelection(){return this.$$.ctx[45]}get clearByParent(){return this.$$.ctx[46]}}const At=["options","fetch","name","required","value","multiple","disabled","max","creatable","delimiter","placeholder","renderer","searchable","clearable","parent","fetch","anchor"];function Ot(e,t){switch(e){case"options":if(Array.isArray(t))return t;try{t=JSON.parse(t),Array.isArray(t)||(t=[])}catch(e){t=[]}return t;case"value":return t?t.split(",").map(e=>{const t=parseInt(e);return isNaN(t)?e:t}):"";case"renderer":return t||"default";case"searchable":return"true"==t;case"clearable":return"false"!=t;case"required":case"multiple":case"creatable":case"selectOnTab":case"disabled":return null!==t;case"max":return isNaN(parseInt(t))?0:parseInt(t);case"anchor":return t?document.getElementById(t):null}return t}const Et=class extends HTMLElement{constructor(){super(),this.svelecte=void 0,this._fetchOpts=null,this.setOptions=e=>this.svelecte.setOptions(e),Object.defineProperties(this,{selection:{get(){return this.svelecte.getSelection()}},value:{get(){return this.svelecte.getSelection(!0)},set(e){this.setAttribute("value",Array.isArray(e)?e.join(","):e)}},options:{get(){return this.hasAttribute("options")?JSON.parse(this.getAttribute("options")):this._fetchOpts||[]},set(e){this.setAttribute("options",Array.isArray(e)?JSON.stringify(e):e)}},disabled:{get(){return null!==this.getAttribute("disabled")},set(e){e?this.setAttribute("disabled",!0===e?"":e):this.removeAttribute("disabled")}},multiple:{get(){return null!==this.getAttribute("multiple")},set(e){e?this.setAttribute("multiple",!0===e?"":e):this.removeAttribute("multiple")}},creatable:{get(){return null!==this.getAttribute("creatable")},set(e){e?this.setAttribute("creatable",!0===e?"":e):this.removeAttribute("creatable")}},clearable:{get(){return"false"!==this.getAttribute("clearable")},set(e){this.setAttribute("clearable",e?"true":"false")}},placeholder:{get(){return this.getAttribute("placeholder")||""},set(e){this.setAttribute("placeholder",e||"Select")}},renderer:{get(){return this.getAttribute("renderer")||"default"},set(e){e&&this.setAttribute("renderer",e)}},required:{get(){return this.hasAttribute("required")},set(e){e?this.setAttribute("required",""):this.removeAttribute("required")}},anchor:{get(){return this.getAttribute("anchor")},set(e){this.setAttribute("anchor",e)}},max:{get(){return this.getAttribute("max")||0},set(e){try{(e=parseInt(e))<0&&(e=0)}catch(t){e=0}this.setAttribute("max",e)}},delimiter:{get(){return this.getAttribute("delimiter")||","},set(e){this.setAttribute("delimiter",e)}}})}focus(){!this.disabled&&this.querySelector("input").focus()}static get observedAttributes(){return At}attributeChangedCallback(e,t,n){this.svelecte&&t!==n&&("value"===e?this.svelecte.setSelection(Ot(e,n)):this.svelecte.$set({[e]:Ot(e,n)}))}connectedCallback(){this.hasAttribute("parent")||this.hasAttribute("anchor")||this.hasAttribute("lazy")?setTimeout(()=>{this.render()}):this.render()}render(){let e={};for(const t of At)this.hasAttribute(t)&&(e[t]=Ot(t,this.getAttribute(t)));if(this.hasAttribute("parent")){if(delete e.fetch,e.disabled=!0,this.parent=document.getElementById(this.getAttribute("parent")),!this.parent.value&&this.svelecte)return;this.parentCallback=e=>{if(e.target.value){if(!this.parent.disabled&&this.removeAttribute("disabled"),this.hasAttribute("fetch")){const t=this.getAttribute("fetch").replace("[parent]",e.target.value);this.svelecte.$set({fetch:t,disabled:!1})}}else this.svelecte.clearByParent()},this.parent.addEventListener("change",this.parentCallback)}const t=this.querySelector("select");return t&&(e.anchor=t,t.tabIndex=-1),this.svelecte=new St({target:this,anchor:t,props:e}),this.svelecte.$on("change",e=>{const t=this.svelecte.getSelection(!0);this.setAttribute("value",Array.isArray(t)?t.join(","):t),this.dispatchEvent(e)}),this.svelecte.$on("fetch",e=>{this._fetchOpts=e.detail,this.dispatchEvent(e)}),!0}disconnectedCallback(){this.svelecte=this.svelecte.$destroy(),this.parent&&this.parent.removeEventListener("change",this.parentCallback)}};export{Et as SvelecteElement,yt as addFormatter,xt as config};
